#include "mtr_irq.h"
#include "MTR_CTRL.h"
#include "adc_cfg.h"
#include "mcpwm_cfg.h"
#include "mtr_drv_cfg.h"
REG_PID(MTR0_D,16384,256*10,100,0,32768,-32768);
REG_PID(MTR0_Q,16384,256*10,100,0,32768,-32768);
REG_MTR_CTRL(MTR0,PWM_PERIOD,0.66,MTR0_MCPWM_OUT,MTR0_ADC_GET,PID_OBJ(MTR0_D),PID_OBJ(MTR0_Q));

REG_PID(MTR1_D,16384,256*10,100,0,32768,-32768);
REG_PID(MTR1_Q,16384,256*10,100,0,32768,-32768);
REG_MTR_CTRL(MTR1,PWM_PERIOD,0.66,MTR1_MCPWM_OUT,MTR1_ADC_GET,PID_OBJ(MTR1_D),PID_OBJ(MTR1_Q));


void MCPWM00_IRQHandler(void)
{
    MCPWM0_IF0 = 0xFFFF;
    RUN_MTR_CTRL(MTR0);
}

void MCPWM10_IRQHandler(void)
{
    MCPWM1_IF0 = 0xFFFF;
    RUN_MTR_CTRL(MTR1);
}

void TIMER0_IRQHandler(void)
{
    UTIMER0_IF = 0xffff;
}

